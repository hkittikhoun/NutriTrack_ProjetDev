<html>
<head>
    <title>frontend/src/components/calculators/CaloriesCalculator.jsx</title>
    <style type="text/css" media="screen">
        #editor {
            position: absolute;
            top: 40px;
            right: 0;
            bottom: 0;
            left: 0;
        }
    </style>
</head>
<body style="font-family: 'DejaVu Sans', Arial, Helvetica, sans-serif">
<h3 style="margin-bottom: 0">frontend/src/components/calculators/CaloriesCalculator.jsx (<b>222</b> lines of code) (<a href="CaloriesCalculator.jsx">raw</a>):</h3>
<div id="editor">import { useState } from &quot;react&quot;;
import &quot;./CaloriesCalculator.css&quot;;

export default function CaloriesCalculator() {
  const [formData, setFormData] = useState({
    age: &quot;&quot;,
    gender: &quot;&quot;,
    weight: &quot;&quot;,
    height: &quot;&quot;,
    activityLevel: &quot;&quot;,
  });
  const [result, setResult] = useState(null);
  const [error, setError] = useState(&quot;&quot;);

  const handleInputChange = (e) =&gt; {
    const { name, value } = e.target;
    setFormData((prev) =&gt; ({
      ...prev,
      [name]: value,
    }));
    setError(&quot;&quot;);
  };

  const calculateCalories = (e) =&gt; {
    e.preventDefault();
    setError(&quot;&quot;);

    // Validation
    if (
      !formData.age ||
      !formData.gender ||
      !formData.weight ||
      !formData.height ||
      !formData.activityLevel
    ) {
      setError(&quot;Please fill in all fields&quot;);
      return;
    }

    const age = parseInt(formData.age);
    const weight = parseFloat(formData.weight);
    const height = parseFloat(formData.height);

    if (age &lt; 1 || age &gt; 120) {
      setError(&quot;Age must be between 1 and 120 years&quot;);
      return;
    }

    if (weight &lt; 20 || weight &gt; 300) {
      setError(&quot;Weight must be between 20 and 300 kg&quot;);
      return;
    }

    if (height &lt; 100 || height &gt; 250) {
      setError(&quot;Height must be between 100 and 250 cm&quot;);
      return;
    }

    // Calcul du m&eacute;tabolisme de base (BMR) avec la formule de Mifflin-St Jeor
    let bmr;
    if (formData.gender === &quot;male&quot;) {
      bmr = 10 * weight + 6.25 * height - 5 * age + 5;
    } else {
      bmr = 10 * weight + 6.25 * height - 5 * age - 161;
    }

    // Facteurs d'activit&eacute;
    const activityFactors = {
      sedentary: 1.2, // S&eacute;dentaire (peu ou pas d'exercice)
      light: 1.375, // Activit&eacute; l&eacute;g&egrave;re (exercice l&eacute;ger 1-3 jours/semaine)
      moderate: 1.55, // Activit&eacute; mod&eacute;r&eacute;e (exercice mod&eacute;r&eacute; 3-5 jours/semaine)
      active: 1.725, // Actif (exercice intense 6-7 jours/semaine)
      veryActive: 1.9, // Tr&egrave;s actif (exercice tr&egrave;s intense, travail physique)
    };

    // Calcul des calories totales
    const totalCalories = Math.round(
      bmr * activityFactors[formData.activityLevel]
    );

    setResult({
      bmr: Math.round(bmr),
      totalCalories: totalCalories,
      weightLoss: Math.round(totalCalories - 500), // -500 cal pour perdre ~0.5kg/semaine
      weightGain: Math.round(totalCalories + 500), // +500 cal pour prendre ~0.5kg/semaine
    });
  };

  const resetForm = () =&gt; {
    setFormData({
      age: &quot;&quot;,
      gender: &quot;&quot;,
      weight: &quot;&quot;,
      height: &quot;&quot;,
      activityLevel: &quot;&quot;,
    });
    setResult(null);
    setError(&quot;&quot;);
  };

  return (
    &lt;div className=&quot;calculator-container&quot;&gt;
      &lt;h1&gt;Calories Calculator&lt;/h1&gt;
      &lt;p className=&quot;calculator-description&quot;&gt;
        Calculate your daily caloric needs based on your profile and activity
        level
      &lt;/p&gt;

      &lt;form onSubmit={calculateCalories} className=&quot;calculator-form&quot;&gt;
        {error &amp;&amp; &lt;div className=&quot;error-message&quot;&gt;{error}&lt;/div&gt;}

        &lt;div className=&quot;form-row&quot;&gt;
          &lt;div className=&quot;form-group&quot;&gt;
            &lt;label htmlFor=&quot;age&quot;&gt;Age (years)&lt;/label&gt;
            &lt;input
              type=&quot;number&quot;
              id=&quot;age&quot;
              name=&quot;age&quot;
              value={formData.age}
              onChange={handleInputChange}
              min=&quot;1&quot;
              max=&quot;120&quot;
              placeholder=&quot;Ex: 25&quot;
            /&gt;
          &lt;/div&gt;

          &lt;div className=&quot;form-group&quot;&gt;
            &lt;label htmlFor=&quot;gender&quot;&gt;Gender&lt;/label&gt;
            &lt;select
              id=&quot;gender&quot;
              name=&quot;gender&quot;
              value={formData.gender}
              onChange={handleInputChange}
            &gt;
              &lt;option value=&quot;&quot;&gt;-- Choose --&lt;/option&gt;
              &lt;option value=&quot;male&quot;&gt;Male&lt;/option&gt;
              &lt;option value=&quot;female&quot;&gt;Female&lt;/option&gt;
            &lt;/select&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        &lt;div className=&quot;form-row&quot;&gt;
          &lt;div className=&quot;form-group&quot;&gt;
            &lt;label htmlFor=&quot;weight&quot;&gt;Weight (kg)&lt;/label&gt;
            &lt;input
              type=&quot;number&quot;
              id=&quot;weight&quot;
              name=&quot;weight&quot;
              value={formData.weight}
              onChange={handleInputChange}
              min=&quot;20&quot;
              max=&quot;300&quot;
              step=&quot;0.1&quot;
              placeholder=&quot;Ex: 70.5&quot;
            /&gt;
          &lt;/div&gt;

          &lt;div className=&quot;form-group&quot;&gt;
            &lt;label htmlFor=&quot;height&quot;&gt;Height (cm)&lt;/label&gt;
            &lt;input
              type=&quot;number&quot;
              id=&quot;height&quot;
              name=&quot;height&quot;
              value={formData.height}
              onChange={handleInputChange}
              min=&quot;100&quot;
              max=&quot;250&quot;
              placeholder=&quot;Ex: 175&quot;
            /&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        &lt;div className=&quot;form-group full-width&quot;&gt;
          &lt;label htmlFor=&quot;activityLevel&quot;&gt;Activity Level&lt;/label&gt;
          &lt;select
            id=&quot;activityLevel&quot;
            name=&quot;activityLevel&quot;
            value={formData.activityLevel}
            onChange={handleInputChange}
          &gt;
            &lt;option value=&quot;&quot;&gt;-- Choose your activity level --&lt;/option&gt;
            &lt;option value=&quot;sedentary&quot;&gt;Sedentary (little or no exercise)&lt;/option&gt;
            &lt;option value=&quot;light&quot;&gt;Light (light exercise 1-3 days/week)&lt;/option&gt;
            &lt;option value=&quot;moderate&quot;&gt;
              Moderate (moderate exercise 3-5 days/week)
            &lt;/option&gt;
            &lt;option value=&quot;active&quot;&gt;
              Active (intense exercise 6-7 days/week)
            &lt;/option&gt;
            &lt;option value=&quot;veryActive&quot;&gt;
              Very Active (very intense exercise, physical work)
            &lt;/option&gt;
          &lt;/select&gt;
        &lt;/div&gt;

        &lt;div className=&quot;form-actions&quot;&gt;
          &lt;button type=&quot;submit&quot; className=&quot;calculate-btn&quot;&gt;
            Calculate
          &lt;/button&gt;
          &lt;button type=&quot;button&quot; onClick={resetForm} className=&quot;reset-btn&quot;&gt;
            Reset
          &lt;/button&gt;
        &lt;/div&gt;
      &lt;/form&gt;

      {result &amp;&amp; (
        &lt;div className=&quot;results-container&quot;&gt;
          &lt;h2&gt;Your Results&lt;/h2&gt;
          &lt;div className=&quot;results-grid&quot;&gt;
            &lt;div className=&quot;result-card primary&quot;&gt;
              &lt;h3&gt;Basal Metabolic Rate (BMR)&lt;/h3&gt;
              &lt;p className=&quot;result-value&quot;&gt;{result.bmr} cal/day&lt;/p&gt;
              &lt;p className=&quot;result-description&quot;&gt;Calories burned at rest&lt;/p&gt;
            &lt;/div&gt;

            &lt;div className=&quot;result-card maintenance&quot;&gt;
              &lt;h3&gt;Maintenance Calories&lt;/h3&gt;
              &lt;p className=&quot;result-value&quot;&gt;{result.totalCalories} cal/day&lt;/p&gt;
              &lt;p className=&quot;result-description&quot;&gt;
                To maintain your current weight
              &lt;/p&gt;
            &lt;/div&gt;

            &lt;div className=&quot;result-card loss&quot;&gt;
              &lt;h3&gt;Weight Loss&lt;/h3&gt;
              &lt;p className=&quot;result-value&quot;&gt;{result.weightLoss} cal/day&lt;/p&gt;
              &lt;p className=&quot;result-description&quot;&gt;To lose ~0.5kg per week&lt;/p&gt;
            &lt;/div&gt;

            &lt;div className=&quot;result-card gain&quot;&gt;
              &lt;h3&gt;Weight Gain&lt;/h3&gt;
              &lt;p className=&quot;result-value&quot;&gt;{result.weightGain} cal/day&lt;/p&gt;
              &lt;p className=&quot;result-description&quot;&gt;To gain ~0.5kg per week&lt;/p&gt;
            &lt;/div&gt;
          &lt;/div&gt;

          &lt;div className=&quot;disclaimer&quot;&gt;
            &lt;p&gt;
              &lt;strong&gt;Important:&lt;/strong&gt; These calculations are estimates based
              on formulas by Mifflin-St Jeor. Consult a healthcare professional
              for personalized advice.
            &lt;/p&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      )}
    &lt;/div&gt;
  );
}
</div>
<script src="https://www.zeljkoobrenovic.com/tools/common/lib/ace/ace.js" type="text/javascript" charset="utf-8"></script>
<script>
    var editor = ace.edit("editor");
    editor.session.setMode("ace/mode/html");
    editor.setTheme("ace/theme/xcode");
    editor.setReadOnly(true);
    editor.setOption("wrap", true);
    editor.setPrintMarginColumn(120);
</script>
</body>
