<html>
<head>
    <title>frontend/src/containers/Roots.jsx</title>
    <style type="text/css" media="screen">
        #editor {
            position: absolute;
            top: 40px;
            right: 0;
            bottom: 0;
            left: 0;
        }
    </style>
</head>
<body style="font-family: 'DejaVu Sans', Arial, Helvetica, sans-serif">
<h3 style="margin-bottom: 0">frontend/src/containers/Roots.jsx (<b>41</b> lines of code) (<a href="Roots.jsx">raw</a>):</h3>
<div id="editor">import { useContext, useState } from &quot;react&quot;;
import { useLocation } from &quot;react-router-dom&quot;;
import MainNavigation from &quot;../components/header/MainNavigation&quot;;
import { Outlet } from &quot;react-router-dom&quot;;
import Cart from &quot;../components/cart/Cart&quot;;
import { AuthContext } from &quot;../context/auth-context&quot;;
import { CartContext } from &quot;../context/cart-context&quot;;

export default function RootLayout() {
  const auth = useContext(AuthContext);
  const location = useLocation();
  const [cartIsOpen, setCartIsOpen] = useState(false);
  const [refreshTrigger, setRefreshTrigger] = useState(0);

  const showCartOnRoutes = [&quot;/catalogue&quot;, &quot;/mealplan&quot;, &quot;/recipe&quot;];

  const shouldShowCart =
    auth.isLoggedIn &amp;&amp;
    showCartOnRoutes.some(
      (route) =&gt;
        location.pathname === route || location.pathname.startsWith(route + &quot;/&quot;)
    );

  const refreshCart = () =&gt; {
    setRefreshTrigger((prev) =&gt; prev + 1);
  };

  const toggleCart = () =&gt; {
    setCartIsOpen((prev) =&gt; !prev);
  };

  return (
    &lt;CartContext.Provider value={{ refreshCart }}&gt;
      &lt;MainNavigation onOpenCart={toggleCart} cartIsOpen={cartIsOpen} /&gt;
      {shouldShowCart &amp;&amp; (
        &lt;Cart
          isOpen={cartIsOpen}
          onClose={() =&gt; setCartIsOpen(false)}
          refreshTrigger={refreshTrigger}
        /&gt;
      )}
      &lt;main&gt;
        &lt;Outlet /&gt;
      &lt;/main&gt;
    &lt;/CartContext.Provider&gt;
  );
}
</div>
<script src="https://www.zeljkoobrenovic.com/tools/common/lib/ace/ace.js" type="text/javascript" charset="utf-8"></script>
<script>
    var editor = ace.edit("editor");
    editor.session.setMode("ace/mode/html");
    editor.setTheme("ace/theme/xcode");
    editor.setReadOnly(true);
    editor.setOption("wrap", true);
    editor.setPrintMarginColumn(120);
</script>
</body>
